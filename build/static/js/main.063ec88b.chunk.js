(this["webpackJsonplets-talk-cocktails"]=this["webpackJsonplets-talk-cocktails"]||[]).push([[0],{28:function(e,t,n){},30:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(19),s=n.n(a),r=(n(27),n(28),n(9)),o=n(10),c=n(12),i=n(11),l=n(1),u=n.n(l),h=(n(29),n(30),n(47)),d=n(48),j=n(49),m=n(13),b=n.n(m),p=n(14),O=n(42),f=n(43),k=n(44),x=n(45),v=n(46),g="";if("localhost"===window.location.hostname)g="http://localhost:3000";var w=g,T=n(2),y=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).handleSignup=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/user/signup"),{method:"POST",body:JSON.stringify({user:{email:a.state.email,password:a.state.password,role:"user"}}),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){window.alert(e.message),e.sessionToken&&a.props.updateToken(e.sessionToken)}));case 2:case"end":return e.stop()}}),e)}))),a.state={email:"",password:"",role:"user"},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return Object(T.jsxs)("div",{className:"container",children:[Object(T.jsx)("h1",{children:"Create Account"}),Object(T.jsxs)(O.a,{onSubmit:this.handleSignup,children:[Object(T.jsxs)(f.a,{children:[Object(T.jsx)(k.a,{className:"form-label",htmlFor:"email",children:"Email"}),Object(T.jsx)(x.a,{name:"email",placeholder:"cheers@youremail.com",type:"email","aria-required":"true",required:!0,onChange:function(t){return e.setState({email:t.target.value})},value:this.state.email})]}),Object(T.jsxs)(f.a,{children:[Object(T.jsx)(k.a,{className:"form-label",htmlFor:"password",children:"Password"}),Object(T.jsx)(x.a,{placeholder:"make it strong and 6 characters or more",type:"text",name:"password","aria-required":"true",required:!0,minLength:6,onChange:function(t){return e.setState({password:t.target.value})},value:this.state.password})]}),Object(T.jsx)("br",{}),Object(T.jsx)(v.a,{type:"submit",className:"btn-auth",children:" Sign Up "})]}),Object(T.jsx)("br",{})]})}}]),n}(u.a.Component),S=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={email:"",password:""},a}return Object(o.a)(n,[{key:"handleSubmit",value:function(){var e=Object(p.a)(b.a.mark((function e(t){var n=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("".concat(w,"/user/login"),{method:"POST",body:JSON.stringify({user:{email:this.state.email,password:this.state.password}}),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){window.alert(e.message),e.sessionToken&&n.props.updateToken(e.sessionToken)})).catch((function(e){console.log(e.message)}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(T.jsxs)("div",{className:"container",children:[Object(T.jsx)("h1",{children:"Log In"}),Object(T.jsxs)(O.a,{onSubmit:this.handleSubmit,children:[Object(T.jsxs)(f.a,{children:[Object(T.jsx)(k.a,{className:"form-label",htmlFor:"email",children:"Email"}),Object(T.jsx)(x.a,{name:"email",placeholder:"yeschef@email.com",type:"email","aria-required":"true",required:!0,onChange:function(t){return e.setState({email:t.target.value})},value:this.state.email})]}),Object(T.jsxs)(f.a,{children:[Object(T.jsx)(k.a,{className:"form-label",htmlFor:"password",children:"Password"}),Object(T.jsx)(x.a,{name:"password",placeholder:"the secret sauce",type:"text","aria-required":"true",required:!0,minLength:6,onChange:function(t){return e.setState({password:t.target.value})},value:this.state.password})]}),Object(T.jsx)("br",{}),Object(T.jsx)(v.a,{className:"btn-auth",type:"submit",onClick:this.handleSubmit,children:" Shaken or Stirred"})]}),Object(T.jsx)("br",{})]})}}]),n}(u.a.Component),C=S,N=function(e){return Object(T.jsx)("div",{className:"container",children:Object(T.jsx)(h.a,{children:Object(T.jsxs)(d.a,{children:[Object(T.jsx)(j.a,{md:"7",children:Object(T.jsx)(y,{updateToken:e.updateToken})}),Object(T.jsx)(j.a,{md:"7",children:Object(T.jsx)(C,{updateToken:e.updateToken})})]})})})},q=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this,{})).state={sessionToken:""},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.setToken()}},{key:"setToken",value:function(){this.setState({sessionToken:localStorage.getItem("token")||""})}},{key:"updateToken",value:function(e){localStorage.setItem("token",e),this.setToken()}},{key:"clearToken",value:function(){localStorage.removeItem("token"),this.updateToken("")}},{key:"userOnlyViews",value:function(){return this.state.sessionToken===localStorage.getItem("token")?console.log("Protected routes"):Object(T.jsx)(N,{token:this.state.sessionToken})}},{key:"render",value:function(){return Object(T.jsxs)("div",{className:"App",children:[Object(T.jsx)("header",{className:"App-header",children:Object(T.jsx)("p",{children:"Testing. This is the header"})}),Object(T.jsx)(N,{})]})}}]),n}(u.a.Component),F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,50)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),s(e),r(e),o(e)}))},I=n(22);s.a.render(Object(T.jsx)(I.a,{children:Object(T.jsx)(q,{})}),document.getElementById("root")),F()}},[[41,1,2]]]);
//# sourceMappingURL=main.063ec88b.chunk.js.map