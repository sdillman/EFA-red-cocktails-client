(this["webpackJsonplets-talk-cocktails"]=this["webpackJsonplets-talk-cocktails"]||[]).push([[0],{28:function(e,t,a){},30:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(19),s=a.n(n),r=(a(27),a(28),a(9)),o=a(10),c=a(12),i=a(11),l=a(1),u=a.n(l),h=(a(29),a(30),a(47)),d=a(48),j=a(49),m=a(13),p=a.n(m),b=a(14),O=a(42),k=a(43),f=a(44),x=a(45),v=a(46),g="";switch(window.location.hostname){case"localhost":g="http://localhost:3000";break;case"sd-efa-red-lets-talk-cocktails.herokuapp.com":g="https://sd-efa-red-lets-talk-cocktails.herokuapp.com"}var w=g,y=a(2),T=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleSignup=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/auth/signup/"),{method:"POST",body:JSON.stringify({user:{email:n.state.email,password:n.state.password,role:"2"}}),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){window.alert(e.message),e.sessionToken&&n.props.updateToken(e.sessionToken)}));case 2:case"end":return e.stop()}}),e)}))),n.state={email:"",password:"",role:"0"},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)("h1",{children:"Create Account"}),Object(y.jsxs)(O.a,{onSubmit:this.handleSignup,children:[Object(y.jsxs)(k.a,{children:[Object(y.jsx)(f.a,{className:"form-label",htmlFor:"email",children:"Email"}),Object(y.jsx)(x.a,{name:"email",placeholder:"cheers@youremail.com",type:"email","aria-required":"true",required:!0,onChange:function(t){return e.setState({email:t.target.value})},value:this.state.email})]}),Object(y.jsxs)(k.a,{children:[Object(y.jsx)(f.a,{className:"form-label",htmlFor:"password",children:"Password"}),Object(y.jsx)(x.a,{placeholder:"make it strong and 6 characters or more",type:"text",name:"password","aria-required":"true",required:!0,minLength:6,onChange:function(t){return e.setState({password:t.target.value})},value:this.state.password})]}),Object(y.jsx)("br",{}),Object(y.jsx)(v.a,{type:"submit",className:"btn-auth",children:" Sign Up "})]}),Object(y.jsx)("br",{})]})}}]),a}(u.a.Component),S=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={email:"",password:""},n}return Object(o.a)(a,[{key:"handleSubmit",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("".concat(w,"/auth/login"),{method:"POST",body:JSON.stringify({user:{email:this.state.email,password:this.state.password}}),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){window.alert(e.message),e.sessionToken&&a.props.updateToken(e.sessionToken)})).catch((function(e){console.log(e.message)}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)("h1",{children:"Log In"}),Object(y.jsxs)(O.a,{onSubmit:this.handleSubmit,children:[Object(y.jsxs)(k.a,{children:[Object(y.jsx)(f.a,{className:"form-label",htmlFor:"email",children:"Email"}),Object(y.jsx)(x.a,{name:"email",placeholder:"your@email.com",type:"email","aria-required":"true",required:!0,onChange:function(t){return e.setState({email:t.target.value})},value:this.state.email})]}),Object(y.jsxs)(k.a,{children:[Object(y.jsx)(f.a,{className:"form-label",htmlFor:"password",children:"Password"}),Object(y.jsx)(x.a,{name:"password",placeholder:"your password",type:"text","aria-required":"true",required:!0,onChange:function(t){return e.setState({password:t.target.value})},value:this.state.password})]}),Object(y.jsx)("br",{}),Object(y.jsx)(v.a,{className:"btn-auth",type:"submit",onClick:this.handleSubmit.bind(this),children:" Shaken or Stirred"})]}),Object(y.jsx)("br",{})]})}}]),a}(u.a.Component),C=S,N=function(e){return Object(y.jsx)("div",{className:"container",children:Object(y.jsx)(h.a,{children:Object(y.jsxs)(d.a,{children:[Object(y.jsx)(j.a,{md:"7",children:Object(y.jsx)(T,{updateToken:e.updateToken})}),Object(y.jsx)(j.a,{md:"7",children:Object(y.jsx)(C,{updateToken:e.updateToken})})]})})})},q=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this,{})).state={sessionToken:""},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setToken()}},{key:"setToken",value:function(){this.setState({sessionToken:localStorage.getItem("token")||""})}},{key:"updateToken",value:function(e){localStorage.setItem("token",e),this.setToken()}},{key:"clearToken",value:function(){localStorage.removeItem("token"),this.updateToken("")}},{key:"userOnlyViews",value:function(){return this.state.sessionToken===localStorage.getItem("token")?console.log("Protected routes - user"):Object(y.jsx)(N,{token:this.state.sessionToken})}},{key:"render",value:function(){return Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)("header",{className:"App-header",children:Object(y.jsx)("p",{children:"Testing. Let's Talk Cocktails!"})}),Object(y.jsx)(N,{})]})}}]),a}(u.a.Component),F=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,50)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),s(e),r(e),o(e)}))},I=a(22);s.a.render(Object(y.jsx)(I.a,{children:Object(y.jsx)(q,{})}),document.getElementById("root")),F()}},[[41,1,2]]]);
//# sourceMappingURL=main.092e00bd.chunk.js.map